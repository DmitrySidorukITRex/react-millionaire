"use strict";(self.webpackChunkreact_millionaire=self.webpackChunkreact_millionaire||[]).push([[12],{9699:function(n,e,r){r.r(e),r.d(e,{default:function(){return F}});var t=r(4942),s=r(2982),c=r(885),a=r(9062),i=r(7294),o=r(4258),u={hint:"QSQtfF5ccz7ZZuVztK7m",half:"i6JSbUn4kZRX33g6eWmk",hall:"bIluH8JpNCd8YpPEb1Hw",call:"hiQJLN4c4AsV5MAlqFwa",disabled:"u1evzVnpREXkNPI8imnp"},l=r(4184),d=r.n(l),h=r.p+"651cf3b799b29f7dfc52.mp3",f=r(5893),m=function(n){var e=n.name,r=n.hintsActivated,s=n.hintClicked;return(0,f.jsx)("div",{className:d()(u.hint,u[e],(0,t.Z)({},u.disabled,r.includes(e))),onClick:function(){new Audio(h).play(),s(e)}})},p=[{round:1,money:"100"},{round:2,money:"200"},{round:3,money:"300"},{round:4,money:"500"},{round:5,money:"1 000"},{round:6,money:"2 000"},{round:7,money:"4 000"},{round:8,money:"8 000"},{round:9,money:"16 000"},{round:10,money:"32 000"},{round:11,money:"64 000"},{round:12,money:"125 000"},{round:13,money:"250 000"},{round:14,money:"500 000"},{round:15,money:"1 000 000"}],x=function(n){var e=n.currentRoundIndex;return(0,f.jsx)("div",{className:"bnL2eqWjCCtrjjM3myRe",children:p.map((function(n,r){var s,c=d()("MoyOXfJA4wCXdMGeIDnJ",(s={},(0,t.Z)(s,"OZf3TTzRDGKDFChykXAW",e===r),(0,t.Z)(s,"kwJA8yf5xAR8ZNy7yfWS",function(n){switch(n){case 5:case 10:case 15:return!0;default:return!1}}(n.round)),s));return(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)("span",{className:"qZCioAJQZeqGCsIgfsve",children:n.round}),(0,f.jsx)("span",{children:"$ ".concat(n.money)})]},r)}))})},j=['Добро пожаловать в онлайн-версию знаменитого игрового шоу "Кто хочет стать миллионером?". В этой уникальной игре\n  можно ощутить себя настоящим участником телепрограммы, завоевавшей миллионы поклонников по всему миру. Онлайн\n  версия игры позволит в режиме реального времени стать главным героем нашумевшей передачи.',"Игра доступна для каждого, кто хочет проверить себя в серии тестов, состоящих из интересных вопросов и\n  неожиданных ответов. Испытайте свою интеллект просто используя свои знания и весело проводя время.","Игра состоит из 15 вопросов. Уровень сложности и шансы получить деньги увеличиваются с каждым новым вопросом.\n  Например, при ответе на первый блок вопросов Ваш призовой фонд составит от 100 до 1000 рублей. Играйте,\n  правильно отвечайте на вопросы в процессе игры – и призовой фонд будет увеличиваться на глазах, пока Вы не\n  дойдете до финального вопроса, и если Вы ответите на него правильно, то станете счастливым обладателем миллиона\n  рублей!","Ключом к успеху является Ваши интеллект, так что вперед за призом! Вооружившись самыми разнообразными знаниями,\n  которые Вы приобрели за свою жизнь, Вы сможете легко и быстро заработать свой миллион рублей!"],v="half",w="hall",g="call",y=r(5861),b=r(7757),A=r.n(b),C=r(5898),Z=function(){var n=(0,y.Z)(A().mark((function n(){var e,r;return A().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,C.W)({method:"get",url:"/rounds"});case 3:return e=n.sent,r=e.data,n.abrupt("return",r);case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),N=function(){var n=(0,y.Z)(A().mark((function n(e,r,t){var s,c;return A().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,C.W)({method:"patch",url:"/users/".concat(e,"/rating"),data:{gamesCount:r,scores:t}});case 3:return s=n.sent,c=s.data,n.abrupt("return",c);case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,r,t){return n.apply(this,arguments)}}(),k=(0,i.createContext)({rounds:[],getRounds:function(){}}),O=function(n){var e=n.children,r=(0,i.useState)([]),t=(0,c.Z)(r,2),s=t[0],a=t[1];(0,i.useEffect)((function(){o()}),[]);var o=function(){a([]),Z().then((function(n){return a(n)})).catch((function(n){return console.log(n)}))},u={rounds:s,getRounds:o};return(0,f.jsx)(k.Provider,{value:u,children:e})},S=r(4811),G=r(3838),P=r(7750),W=function(n){var e=n.rightAnswer,r=n.open,t=n.onClose;return(0,f.jsxs)(G.Z,{fullWidth:!0,maxWidth:"sm",onClose:t,open:r,children:[(0,f.jsx)(S.Z,{children:"Подсказка Друга"}),(0,f.jsx)(P.Z,{children:(0,f.jsxs)("p",{children:['Ваш друг говорит: "Так хочется потянуть резину, но это же элементарно! Как такой вопрос мог поставить тебя в тупик? Правильный ответ "',e,'"!']})})]})},H=r(6914),M=r.p+"3e1009e860856fb5b439.mp3",D=r.p+"da846b8db64d3fb70cb6.mp3",E=function(n){var e=n.isWon,r=n.scores,t=n.restartGame,s=n.open,c=n.handleClose;return(0,i.useEffect)((function(){var n=new Audio(e?M:D);n.load(),n.play()}),[e]),(0,f.jsx)(G.Z,{fullWidth:!0,maxWidth:"sm",onClose:c,open:s,children:(0,f.jsxs)(P.Z,{children:[e?(0,f.jsx)("h2",{children:"Поздравляю, вы выиграли один миллион долларов!!!"}):(0,f.jsxs)("h2",{children:["К сожалению, вы проиграли. Ваш результат ",r,"$. Попробуйте ещё раз!"]}),(0,f.jsx)(H.Z,{variant:"outlined",onClick:t,children:"Начать заново"})]})})},J={chart:"c4UNEdAN5gSAbi8eYaDV","chart-item":"MmnpTj46OwxYy_NFxlf8",graph:"PPIGQXudK1aT5dPND5s4"},R=function(n){var e=n.answers,r=n.rightAnswer,t=n.open,s=n.onClose,a=(0,i.useState)([]),o=(0,c.Z)(a,2),u=o[0],l=o[1];function d(n,e){return n=Math.ceil(n),e=Math.floor(e),Math.floor(Math.random()*(e-n+1))+n}function h(n){switch(n){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D";default:return""}}return(0,i.useEffect)((function(){!function(n,e){for(var r=n.indexOf(e),t=[],s=100,c=0;c<n.length;c++)if(c!==n.length-1){var a=c===r?d(50,80):d(0,10);s-=a,t.push({letter:h(c),count:a})}else t.push({letter:h(c),count:s});l(t)}(e,r)}),[e,r]),(0,f.jsxs)(G.Z,{fullWidth:!0,maxWidth:"sm",onClose:function(){s()},open:t,children:[(0,f.jsx)(S.Z,{children:"Подсказка Зала"}),(0,f.jsx)(P.Z,{children:(0,f.jsx)("div",{className:J.chart,children:u.map((function(n,e){return(0,f.jsxs)("div",{className:J["chart-item"],children:[(0,f.jsx)("div",{className:J.graph,style:{height:2*n.count}}),(0,f.jsx)("div",{className:J.count,children:n.count+" % "}),(0,f.jsx)("div",{className:J.letter,children:n.letter})]},e)}))})})]})},I=function(n){var e=n.text,r=n.currentAnswer,t=n.rightAnswer,s=(n.currentHint,n.index),c=n.onAnswerClicked;return(0,f.jsxs)("div",{className:"answer ".concat(function(n,r){return e?n&&r&&r===e?"right-answer":n&&n===e?"active":"normal":"hidden"}(r,t)),onClick:function(){c(e)},children:[function(n){switch(n){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D"}}(s)," : ",e]})},T=function(n){var e=n.round,r=n.answerClicked,t=(0,i.useState)(),s=(0,c.Z)(t,2),a=s[0],o=s[1],u=(0,i.useState)(),l=(0,c.Z)(u,2),d=l[0],h=l[1],m=function(n){o(n),setTimeout((function(){h(e.rightAnswer);var t=e.rightAnswer===n;r(t)}),2e3)};return(0,f.jsxs)("div",{className:"wPMwpy6rxN98b3JU2OVu",children:[(0,f.jsx)("div",{className:"NzBGk2NykOlorsWEBKAa",children:(0,f.jsx)("span",{children:e.question})}),(0,f.jsxs)("div",{className:"G0JAe0EVaYxziIS2nJOw",children:[e.answers.map((function(n,e){return(0,f.jsx)(I,{index:e,text:n,currentAnswer:a,rightAnswer:d,onAnswerClicked:m},e)})),(0,f.jsx)("div",{className:"LEwAyJebkM_MO8fx4BHS",children:e.roundNumber})]})]})},z=r.p+"e8428b0e67cf1c0bb397.mp3",V=r.p+"f58b126f2ef4f1f8dfc6.mp3",X=r.p+"585aa0fd9c991aad95ab.mp3";function q(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function B(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?q(Object(r),!0).forEach((function(e){(0,t.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}var Q=new Audio(z),_=function(){var n=(0,i.useState)(0),e=(0,c.Z)(n,2),r=e[0],t=e[1],u=(0,i.useState)([]),l=(0,c.Z)(u,2),d=l[0],h=l[1],p=(0,i.useState)(!1),y=(0,c.Z)(p,2),b=y[0],A=y[1],C=(0,i.useState)({hallHint:!1,callHint:!1,endGame:!1}),Z=(0,c.Z)(C,2),O=Z[0],S=Z[1],G=(0,i.useContext)(k),P=G.rounds,H=G.getRounds,M=function(n){return r<5?0:r>=5&&r<10?1e3:!n&&r>=10&&r<15?32e3:1e6},D=function(n){switch(h([].concat((0,s.Z)(d),[n])),n){case v:J();break;case w:I();break;case g:z()}},J=function(){var n=P[r],e=n.rightAnswer,t=n.answers.filter((function(n){return n!==e})),s=t[Math.floor(Math.random()*t.length)],c=[e,s];n.answers=n.answers.map((function(n){return c.includes(n)?n:null}))},I=function(){S(B(B({},O),{},{hallHint:!0}))},z=function(){S(B(B({},O),{},{callHint:!0}))},q=function(){S({callHint:!1,hallHint:!1,endGame:!1})},_=function(n){Q.pause(),new Audio(n).play()},F=function(n){var e=(0,o.ts)().user;N(e._id,1,M(n)).then()},K=j.map((function(n,e){return(0,f.jsx)("p",{children:n},e)})),Y=[v,w,g].map((function(n,e){return(0,f.jsx)(m,{name:n,hintsActivated:d,hintClicked:D},e)}));return(0,f.jsxs)("div",{className:"component",children:[(0,f.jsx)("h1",{children:'Игра "Кто хочет стать миллионером"'}),K,(0,f.jsx)("div",{className:"game",children:P.length?(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"hints",children:Y}),(0,f.jsx)("img",{className:"logo",alt:"logo",src:"/images/logo.png"}),(0,f.jsx)("div",{className:"results",children:(0,f.jsx)(x,{currentRoundIndex:r})}),(0,f.jsx)(T,{round:P[r],answerClicked:function(n){n?(_(V),setTimeout((function(){r===P.length-1?(A(!0),S(B(B({},O),{},{endGame:!0})),F(!0)):(t((function(n){return n+1})),Q.play())}),2e3)):(_(X),setTimeout((function(){A(!1),S(B(B({},O),{},{endGame:!0}))}),2e3),F(!1))}}),O.hallHint?(0,f.jsx)(R,{answers:P[r].answers,rightAnswer:P[r].rightAnswer,open:O.hallHint,onClose:q}):null,O.callHint?(0,f.jsx)(W,{rightAnswer:P[r].rightAnswer,open:O.callHint,onClose:q}):null,O.endGame?(0,f.jsx)(E,{isWon:b,scores:M(b),open:O.endGame,restartGame:function(){S(B(B({},O),{},{endGame:!1})),t(0),h([]),H()},onClose:q}):null]}):(0,f.jsx)(a.Z,{color:"inherit"})})]})},F=function(){return(0,f.jsx)(O,{children:(0,f.jsx)(_,{})})}}}]);
//# sourceMappingURL=Main.4b68d7e248fdaa03866e.chunk.js.map